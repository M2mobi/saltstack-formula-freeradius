# DO NOT CHANGE THIS FILE!
# This config is generated by SALTSTACK
# and all change will be overridden on next salt call

rest {
	tls {
		#  Certificate Authorities:
		#  "ca_file" (libcurl option CURLOPT_ISSUERCERT).
		#    File containing a single CA, which is the issuer of the server
		#    certificate.
		#  "ca_info_file" (libcurl option CURLOPT_CAINFO).
		#    File containing a bundle of certificates, which allow to handle
		#    certificate chain validation.
		#  "ca_path" (libcurl option CURLOPT_CAPATH).
		#    Directory holding CA certificates to verify the peer with.
#		ca_file = ${certdir}/cacert.pem
#		ca_info_file = ${certdir}/cacert_bundle.pem
#		ca_path = ${certdir}

#		certificate_file        = /path/to/radius.crt
#		private_key_file        = /path/to/radius.key
#		private_key_password    = "supersecret"
#		random_file             = /dev/urandom

		check_cert = {{ freeradius.rest.tls.check_cert }}
		check_cert_cn = {{ freeradius.rest.tls.check_cert_cn }}
	}

	connect_uri = "{{ freeradius.rest.api_uri }}"

	authenticate {
		uri = "${..connect_uri}"
		tls = ${..tls}
		method = '{{ freeradius.rest.method }}'
        body = '{{ freeradius.rest.body }}'
        data = '{{ freeradius.rest.data }}'
	}

	pool {
		start = ${thread[pool].start_servers}
		min = ${thread[pool].min_spare_servers}
		max = ${thread[pool].max_servers}
		spare = ${thread[pool].max_spare_servers}
		uses = 0
		retry_delay = 30
		lifetime = 0
		idle_timeout = 60
	}
}
